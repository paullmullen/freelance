<ion-header>
  <ion-toolbar>
    <ion-title>Give me something to do.</ion-title>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form ngForm (ngSubmit)="onBam()">
    <ion-grid>
      <ion-row>
        <ion-col size="8" offset="2" class="ion-text-center"
          ><p>Say anything.</p>
          <p>
            If I can figure it out, I'll categorize it for you, otherwise, I'll
            just save it for later.
          </p></ion-col
        >
      </ion-row>
      <ion-row>
        <ion-col size="8" offset="2">
          <div class="form-group">
            <ion-textarea
              class="form-control"
              id="utterance"
              required
              [(ngModel)]="toDo.utterance"
              name="utterance"
              #utterance="ngModel"
              rows="5"
              required
              (ngModelChange)="onChange()"
            >
            </ion-textarea>
          </div>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="8" offset="2">
          <p *ngIf="isRecording" style="color: red">I'm listening.</p>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="8" offset="2">
          <div *ngIf="toDo.urgency.length>0">
            <ion-item>
              <ion-label color="danger" class="ion-text-center"
                >{{ this.toDo.urgency }}</ion-label
              >
            </ion-item>
          </div>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="8" offset="2">
          <div *ngIf="toDo.importance.length>0"></div>
          <ion-item>
            <ion-label color="danger" class="ion-text-center"
              >{{ this.toDo.importance }}</ion-label
            >
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="8" offset="2">
          <div *ngIf="categoryExists">
            <ion-item>
              <ion-label color="tertiary" class="ion-text-center"
                >{{ this.toDo.project }}</ion-label
              >
            </ion-item>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
  {{ tempString }}
</ion-content>

<ion-footer>
  <ion-grid>
    <ion-row style="text-align: center">
      <!-- <ion-col size="6">
        <ion-item lines="none">
          <ion-buttons>
            <ion-button
              size="large"
              color="primary"
              [disabled]="isRecording"
              (click)="getSpeech()"
            >
              <ion-icon name="mic" slot="start"></ion-icon>
              <ion-label *ngIf="!isIos()" color="primary">Record</ion-label>
            </ion-button>
            < Note that iOS requires a start/stop listening in a way that Android dies not -->
            <!-- <div *ngIf="isIos()">
              <ion-button
                size="large"
                color="danger"
                [disabled]="!isRecording"
                (click)="stopListening()"
              >
                <ion-icon name="mic-off" slot="icon-only"></ion-icon>
              </ion-button>
            </div>
          </ion-buttons>
        </ion-item>
      </ion-col> -->
      <ion-col size="6" offset="3">
        <div>
          <ion-item lines="none">
            <ion-buttons>
              <ion-button
                size="large"
                color="primary"
                item-end
                (click)="onBam()"
              >
                <ion-icon name="rocket" slot="start"></ion-icon>
                <ion-label color="primary">Bam!</ion-label>
              </ion-button>
            </ion-buttons>
          </ion-item>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-footer>
